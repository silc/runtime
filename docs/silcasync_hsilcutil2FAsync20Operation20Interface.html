<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html  xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Style-Type" content="text/css" />
<meta http-equiv="Content-type" content="text/html; charset=ISO-8859-1" />
<link rel="stylesheet" href="./robodoc.css" type="text/css" />
<title>silcasync.h</title>
<!-- Source: ./../../lib/silcutil/silcasync.h -->
<!-- Generated with ROBODoc Version 4.99.36 (Feb  3 2008) -->
</head>
<body>
<div id="logo">
<table border="0" cellspacing="0" cellpadding="6" width="100%">
 <tr valign="top">
  <td>Copyright &copy; 2001 - 2008 SILC Project<br />
    <a href="http://silc.fi">SILC Project Website</a></td>
  <td align="right">
   <a href="index.html">SILC Runtime Toolkit Manual</a><br />
   <a href="masterindex.html">Index</a></small></td>
  </td>
 </tr>
</table>
</div>

<div id="contentwrapper">
<div id="navigation">
<a class="menuitem" href="silcasync_hsilcutil2FAsync20Operation20Interface.html">Async Operation Interface</a>
<a class="menuitem" href="silcatomic_hsilcutil2FAtomic20Operations20Interface.html">Atomic Operations Interface</a>
<a class="menuitem" href="silcbase64_hsilcutil2FBase6420Interface.html">Base64 Interface</a>
<a class="menuitem" href="silcbitops_hsilcutil2FBit20Operations20Interface.html">Bit Operations Interface</a>
<a class="menuitem" href="silcbuffer_hsilcutil2FBuffer20Interface.html">Buffer Interface</a>
<a class="menuitem" href="silcbufferstream_hsilcutil2FBuffer20Stream20Interface.html">Buffer Stream Interface</a>
<a class="menuitem" href="silcbuffmt_hsilcutil2FBuffer20Format20Interface.html">Buffer Format Interface</a>
<a class="menuitem" href="silccond_hsilcutil2FCondition20Variable20Interface.html">Condition Variable Interface</a>
<a class="menuitem" href="silcconfig_hsilcutil2FConfig20File20Interface.html">Config File Interface</a>
<a class="menuitem" href="silcdir_hsilcutil2FDirectory20Interface.html">Directory Interface</a>
<a class="menuitem" href="silcdlist_hsilcutil2FDynamic20List20Interface.html">Dynamic List Interface</a>
<a class="menuitem" href="silcdll_hsilcutil2FShared20Object20Interface.html">Shared Object Interface</a>
<a class="menuitem" href="silcenv_hsilcutil2FEnvironment20Interface.html">Environment Interface</a>
<a class="menuitem" href="silcerrno_hsilcutil2FErrno20Interface.html">Errno Interface</a>
<a class="menuitem" href="silcexample_hsilcexample2FSilcExampleAPI.html">SilcExampleAPI</a>
<a class="menuitem" href="silcfdstream_hsilcutil2FFd20Stream20Interface.html">Fd Stream Interface</a>
<a class="menuitem" href="silcfileutil_hsilcutil2FFile20Util20Interface.html">File Util Interface</a>
<a class="menuitem" href="silcfsm_hsilcutil2FFinite20State20Machine.html">Finite State Machine</a>
<a class="menuitem" href="silcgetopt_hsilcutil2FGetOpt20Interface.html">GetOpt Interface</a>
<a class="menuitem" href="silcglobal_hsilcutil2FGlobal20Variable20Interface.html">Global Variable Interface</a>
<a class="menuitem" href="silchashtable_hsilcutil2FHash20Table20Interface.html">Hash Table Interface</a>
<a class="menuitem" href="silchttpphp_hsilchttp2FHTTP20PHP20Translator.html">HTTP PHP Translator</a>
<a class="menuitem" href="silchttpserver_hsilchttp2FHTTP20Server20Interface.html">HTTP Server Interface</a>
<a class="menuitem" href="silclist_hsilcutil2FList20Interface.html">List Interface</a>
<a class="menuitem" href="silclocalnetstream_hsilcutil2FLocal20Network20Stream20Interface.html">Local Network Stream Interface</a>
<a class="menuitem" href="silclog_hsilcutil2FLogging20Interface.html">Logging Interface</a>
<a class="menuitem" href="silcmemory_hsilcutil2FMemory20Interface.html">Memory Interface</a>
<a class="menuitem" href="silcmime_hsilcutil2FMIME20Interface.html">MIME Interface</a>
<a class="menuitem" href="silcmutex_hsilcutil2FMutex20Interface.html">Mutex Interface</a>
<a class="menuitem" href="silcnet_hsilcutil2FNetwork20Interface.html">Network Interface</a>
<a class="menuitem" href="silcrand_hsilcutil2FRandom20Number20Interface.html">Random Number Interface</a>
<a class="menuitem" href="silcregex_hsilcutil2FRegex20Interface.html">Regex Interface</a>
<a class="menuitem" href="silcruntime_hsilcutil2FRuntime20Toolkit20Interface.html">Runtime Toolkit Interface</a>
<a class="menuitem" href="silcschedule_hsilcutil2FScheduler20Interface.html">Scheduler Interface</a>
<a class="menuitem" href="silcsnprintf_hsilcutil2FSnprintf20Interface.html">Snprintf Interface</a>
<a class="menuitem" href="silcsocketstream_hsilcutil2FSocket20Stream20Interface.html">Socket Stream Interface</a>
<a class="menuitem" href="silcstack_hsilcutil2FMemory20Pool20Interface.html">Memory Pool Interface</a>
<a class="menuitem" href="silcstream_hsilcutil2FStream20Interface.html">Stream Interface</a>
<a class="menuitem" href="silcstringprep_hsilcutil2FStringprep20Interface.html">Stringprep Interface</a>
<a class="menuitem" href="silcstrutil_hsilcutil2FString20Utilities.html">String Utilities</a>
<a class="menuitem" href="silcthread_hsilcutil2FThread20Interface.html">Thread Interface</a>
<a class="menuitem" href="silcthreadqueue_hsilcutil2FThread20Queue20Interface.html">Thread Queue Interface</a>
<a class="menuitem" href="silctime_hsilcutil2FTime20Interface.html">Time Interface</a>
<a class="menuitem" href="silctimer_hsilcutil2FTimer20Interface.html">Timer Interface</a>
<a class="menuitem" href="silctree_hsilcutil2FBinary20Search20Tree20Interface.html">Binary Search Tree Interface</a>
<a class="menuitem" href="silctypes_hsilcutil2FTypes20and20Definitions.html">Types and Definitions</a>
<a class="menuitem" href="silcutf8_hsilcutil2FUTF2D820Interface.html">UTF-8 Interface</a>
<a class="menuitem" href="silcutil_hsilcutil2FMisc20Utilities.html">Misc Utilities</a>
<a class="menuitem" href="silcxml_hsilcutil2FXML20Interface.html">XML Interface</a>
</div> <!-- navigation -->
<div id="content">
<a name="silcutil2fAsync20Operation20Interface">
</a><a name="robo11"></a><h2>Async Operation Interface</h2>

<p class="item_name">DESCRIPTION</p>
<p> SILC Async Operation API is an interface that can be used to control
 asynchronous operations.  All functions that take callback as argument
 should return <a href="./silcasync_hsilcutil2FSilcAsyncOperation.html#robo10">SilcAsyncOperation</a> context.  That context then can be
 used to control, such as, abort the asynchronous operation.  Using
 SILC Async Operation API, asynchronous functions can be controlled
 and aborted safely.
</p>

<p> The SILC Async Operation API is divided in two levels; the underlaying
 operation level that implements the asynchronous operation, and the
 upper layer that can control the asynchronous operation.  The operation
 layer must guarantee that if the upper layer aborts the asynchronous
 operation, no callback function will be called back to the upper layer.
 This must be remembered when implementing the operation layer.
</p>
<p class="item_name">EXAMPLE</p>
<pre> <a href="./silcasync_hsilcutil2FSilcAsyncOperation.html#robo10">SilcAsyncOperation</a> async_call(Callback callback, void *cb_context)
 {
   <a href="./silcasync_hsilcutil2FSilcAsyncOperation.html#robo10">SilcAsyncOperation</a> op;
   OpContext ctx;

   // Allocate async operation so that caller can control us, like abort
   op = <a href="./silcasync_hsilcutil2Fsilc5Fasync5Falloc.html#robo3">silc_async_alloc</a>(async_call_abort, NULL, ctx);
   ctx-&gt;callback = callback;

   ...

   // Return async operation for upper layer
   return op;
 }

 // This callback is called when <a href="./silcasync_hsilcutil2Fsilc5Fasync5Fabort.html#robo4">silc_async_abort</a> is called by upper layer.
 // The callback given to async_call must not be called after this.
 void async_call_abort(<a href="./silcasync_hsilcutil2FSilcAsyncOperation.html#robo10">SilcAsyncOperation</a> op, void *context)
 {
   OpContext ctx = context;
   ctx-&gt;aborted = <a href="./silctypes_hsilcutil2FTRUE.html#robo719">TRUE</a>;
   ctx-&gt;callback = NULL;
 }
</pre>

<p class="item_name">TABLE OF CONTENTS</p>
<ul class="toc_entries">
<li class="toc_entries"><a href="./silcasync_hsilcutil2FSilcAsyncOperation.html#">SilcAsyncOperation</a></li>
<li class="toc_entries"><a href="./silcasync_hsilcutil2FSilcAsyncOperationStruct.html#">SilcAsyncOperationStruct</a></li>
<li class="toc_entries"><a href="./silcasync_hsilcutil2FSilcAsyncOperationAbort.html#">SilcAsyncOperationAbort</a></li>
<li class="toc_entries"><a href="./silcasync_hsilcutil2FSilcAsyncOperationPause.html#">SilcAsyncOperationPause</a></li>
<li class="toc_entries"><a href="./silcasync_hsilcutil2Fsilc5Fasync5Fhalt.html#">silc_async_halt</a></li>
<li class="toc_entries"><a href="./silcasync_hsilcutil2Fsilc5Fasync5Fresume.html#">silc_async_resume</a></li>
<li class="toc_entries"><a href="./silcasync_hsilcutil2Fsilc5Fasync5Fabort.html#">silc_async_abort</a></li>
<li class="toc_entries"><a href="./silcasync_hsilcutil2Fsilc5Fasync5Falloc.html#">silc_async_alloc</a></li>
<li class="toc_entries"><a href="./silcasync_hsilcutil2Fsilc5Fasync5Finit.html#">silc_async_init</a></li>
<li class="toc_entries"><a href="./silcasync_hsilcutil2Fsilc5Fasync5Ffree.html#">silc_async_free</a></li>
<li class="toc_entries"><a href="./silcasync_hsilcutil2Fsilc5Fasync5Fget5Fcontext.html#">silc_async_get_context</a></li>
</ul>
</div> <!-- content -->
</div> <!-- contentwrapper -->
<div id="footer">
<table border="0" cellspacing="0" cellpadding="6" width="100%">
 <tr valign="top">
  <td>Copyright &copy; 2001 - 2008 SILC Project<br />
    <a href="http://silc.fi">SILC Project Website</a></td>
  <td align="right">
   <a href="index.html">SILC Runtime Toolkit Manual</a><br />
   <a href="masterindex.html">Index</a></small></td>
  </td>
 </tr>
</table>
</div>
</body>
</html>
